(this["webpackJsonpcanvas-app"]=this["webpackJsonpcanvas-app"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),i=n(10),a=n.n(i),c=(n(62),n(6)),o=(n(63),n(46)),u=n(2),l=null;var m=function(e,t){var n=t.expiryTimestamp,r=Object(o.useTimer)({expiryTimestamp:n,onExpire:function(){return console.warn("onExpire called")}}),i=r.seconds,a=r.minutes,m=r.hours,f=(r.days,r.isRunning,r.start,r.pause),h=(r.resume,r.restart),d=Object(s.useState)(0),j=Object(c.a)(d,2),b=j[0],g=j[1],v=Object(s.useState)(new Date),p=Object(c.a)(v,2),O=p[0],x=p[1],k=Object(s.useState)(new Date),T=Object(c.a)(k,2),I=(T[0],T[1]),P=Object(s.useState)(e.timeInfo.getPresenters()),y=Object(c.a)(P,2),S=y[0],w=y[1];l&&clearInterval(l),l=setInterval((function(){w(e.timeInfo.getPresenters())}),100),Object(s.useEffect)((function(){e.timeInfo.getNowPresenterIndex()>=0&&C(),console.log("Display|useEffect")}),[S]);var N=function(){f();var t=3600*m+60*a+i,n=b;if(t>0)n=b-t;else{var s=new Date;n=Math.floor((s.getTime()-O.getTime())/1e3)}var r=e.timeInfo.toNextPresenter(n),o=Object(c.a)(r,2),u=o[0],l=o[1];n=Math.floor((l.getTime()-u.getTime())/1e3),h(l),g(n),x(u),I(l)},C=function(){var t=e.timeInfo.getNowPresentDate(),n=Object(c.a)(t,2),s=n[0],r=n[1],i=Math.floor((r.getTime()-s.getTime())/1e3);h(r),g(i),x(s),I(r)};return Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsxs)("div",{style:{fontSize:"500%"},children:[Object(u.jsx)("span",{children:("00"+a).slice(-2)}),":",Object(u.jsx)("span",{children:("00"+i).slice(-2)})]}),Object(u.jsx)("button",{className:"button",onClick:function(){e.timeInfo.getNowPresenterIndex()<e.timeInfo.getNumPresenters()-1&&N(),e.timeInfo.sendChangePresenter()},children:"  \u5207\u66ff  "})]})};n(65);var f=function(e){var t=Object(s.useState)(e.timeInfo.getStartTime().getHours()),n=Object(c.a)(t,2),r=n[0],i=n[1],a=Object(s.useState)(e.timeInfo.getStartTime().getMinutes()),o=Object(c.a)(a,2),l=o[0],m=o[1],f=Object(s.useState)(e.timeInfo.getEndTime().getHours()),h=Object(c.a)(f,2),d=h[0],j=h[1],b=Object(s.useState)(e.timeInfo.getEndTime().getMinutes()),g=Object(c.a)(b,2),v=g[0],p=g[1],O=Object(s.useState)(e.timeInfo.getNumPresenters()),x=Object(c.a)(O,2),k=x[0],T=x[1],I=Object(s.useState)(e.timeInfo.getPresenters()),P=Object(c.a)(I,2),y=P[0],S=P[1],w=Object(s.useState)(e.timeInfo.getPresentTime()),N=Object(c.a)(w,2),C=N[0],E=N[1],M=Object(s.useState)(e.timeInfo.getBreakTime()),B=Object(c.a)(M,2),D=B[0],L=B[1],A=function(t){k>1&&(e.timeInfo.deletePresenter(t),S(e.timeInfo.getPresenters()),T(e.timeInfo.getNumPresenters()))},H=function(t,n){n?e.timeInfo.addPresenter(t+1,"break",600):e.timeInfo.addPresenter(t+1,"",1200),S(e.timeInfo.getPresenters()),T(e.timeInfo.getNumPresenters())},R=function(t){var n=t.target.value,s=Number(t.target.name.split("_")[1]),r=y.slice();r[s].name=n,e.timeInfo.setPresenters(r),S(e.timeInfo.getPresenters())};return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"\u8a2d\u5b9a\u9805\u76ee"}),Object(u.jsx)("p",{children:"\u958b\u59cb\u6642\u9593"}),Object(u.jsx)("input",{type:"time",name:"startTime",value:("00"+r).slice(-2)+":"+("00"+l).slice(-2),onChange:function(t){var n=t.target.value.split(":").map(Number),s=Object(c.a)(n,2),r=s[0],a=s[1],o=new Date;o.setHours(r),o.setMinutes(a),e.timeInfo.setStartTime(o),i(r),m(a)}}),Object(u.jsx)("p",{children:"\u7d42\u4e86\u6642\u9593"}),Object(u.jsx)("input",{type:"time",name:"endTime",value:("00"+d).slice(-2)+":"+("00"+v).slice(-2),onChange:function(t){var n=t.target.value.split(":").map(Number),s=Object(c.a)(n,2),r=s[0],i=s[1],a=new Date;a.setHours(r),a.setMinutes(i),e.timeInfo.setEndTime(a),j(r),p(i)}}),Object(u.jsxs)("p",{children:["\u767a\u8868\u4eba\u6570",k,"\u4eba"]}),Object(u.jsx)("input",{type:"number",name:"numPresenters",value:k,min:"1",max:"20",onChange:function(t){var n=Number(t.target.value);e.timeInfo.setNumPresenters(n),T(e.timeInfo.getNumPresenters()),S(e.timeInfo.getPresenters())}}),Object(u.jsx)("p",{children:"\u767a\u8868\u8005"}),Object(u.jsx)("div",{className:"presenter",children:y.map((function(e,t){return"break"===e.name?Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("button",{className:"namebutton",onClick:function(){return A(t)},children:"x"}),Object(u.jsx)("input",{type:"text",name:"presenter_"+t,value:e.name,onChange:R,disabled:!0}),Object(u.jsx)("button",{className:"namebutton",onClick:function(){return H(t,!1)},children:"+\u767a\u8868\u8005"})]}):Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("button",{className:"namebutton",onClick:function(){return A(t)},children:"x"}),Object(u.jsx)("input",{type:"text",name:"presenter_"+t,value:e.name,onChange:R}),Object(u.jsx)("button",{className:"namebutton",onClick:function(){return H(t,!1)},children:"+\u767a\u8868\u8005"}),Object(u.jsx)("button",{className:"namebutton",onClick:function(){return H(t,!0)},children:"+\u4f11\u61a9"})]})}))}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"\u5404\u767a\u8868\u6642\u9593"}),Object(u.jsx)("input",{type:"number",value:C,onChange:function(t){var n=Number(t.target.value);e.timeInfo.setPresentTime(n),S(e.timeInfo.getPresenters()),E(e.timeInfo.getPresentTime())}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"\u4f11\u61a9\u6642\u9593"}),Object(u.jsx)("input",{type:"number",value:D,onChange:function(t){var n=Number(t.target.value);e.timeInfo.setBreakTime(n),S(e.timeInfo.getPresenters()),L(e.timeInfo.getBreakTime())}})]})]})},h=n(39),d=n.n(h);d.a.setAppElement("#root");var j,b=function(e){var t=r.a.useState(!1),n=Object(c.a)(t,2),s=n[0],i=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){i(!0)},children:"\u8a2d\u5b9a"}),Object(u.jsxs)(d.a,{isOpen:s,children:[Object(u.jsx)("button",{onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),Object(u.jsx)(f,{timeInfo:e.timeInfo}),Object(u.jsx)("button",{onClick:function(){i(!1),e.timeInfo.sendTimeInfo()},children:"\u9001\u4fe1"})]})]})},g=.02,v=.048,p=.015,O=["red","blue","black","green","orange"],x=null,k=null,T=null,I=null;function P(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return(t<10?"0"+String(t):String(t))+":"+(n<10?"0"+String(n):String(n))}function y(e){var t=e.split(":");return 3600*Number(t[0])+60*Number(t[1])+Number(t[2])}function S(e,t,n,s,r,i,a,c){var o=.026*n,u=.599*n,l=.013*n,m=String(.0162*n)+"px serif",f=String(.0195*n)+"px serif",h=String(.013*n)+"px serif",d=.045*n;if(j=new Date,e){t.current&&e.clearRect(0,0,t.current.width,t.current.height);var b=function(e,t,n,s,r){for(var i,a=new Array(n.length-1),c=t-e,o=r-s,u=0;u<n.length-1;u++){i=0;for(var l=0;l<=u;l++)i+=n[l];a[u]=s+o*(i/c)}return a}(r,i,c,o,u);e.globalAlpha=1,e.strokeStyle="black",e.textAlign="center",e.beginPath(),e.moveTo(o,d-g*n),e.lineTo(o,d+g*n),e.stroke(),e.font=m,e.fillText(a[0],(o+b[0])/2,d-p*n),e.font=f,e.fillText(P(r),o,d+v*n),e.beginPath(),e.moveTo(u,d-g*n),e.lineTo(u,d+g*n),e.stroke(),e.font=m,e.fillText(a[a.length-1],(b[b.length-1]+u)/2,d-p*n),e.font=f,e.fillText(P(i),u,d+v*n);for(var x=0;x<b.length+1;x++)if(e.strokeStyle="black",e.beginPath(),e.moveTo(b[x],d-g*n),e.lineTo(b[x],d+g*n),e.stroke(),e.strokeStyle=O[x],e.beginPath(),0==x?e.moveTo(o,d):e.moveTo(b[x-1],d),x<b.length-1?e.lineTo(b[x],d):e.lineTo(u,d),e.stroke(),x<b.length){for(var k=0,T=0;T<=x;T++)k+=c[T];x>0&&(e.font=m,e.fillText(a[x],(b[x-1]+b[x])/2,d-p*n)),e.font=f,e.fillText(P(r+k),b[x],d+v*n)}var I=j.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),S=function(e,t,n,s,r){var i=n-t;return s+(r-s)*((y(e)-t)/i)}(I,r,i,o,u);e.strokeStyle="black",e.beginPath(),e.moveTo(S-l,d-.015*n),e.lineTo(S,d),e.stroke(),e.beginPath(),e.moveTo(S-l,d+.015*n),e.lineTo(S,d),e.stroke(),e.font=h,e.fillText(I,S,d+.032*n)}}var w=function(e){var t,n,r=s.useRef(null),i=s.useState(null),a=Object(c.a)(i,2),o=a[0],l=a[1],m=s.useState(e.timeInfo.getStartTime()),f=Object(c.a)(m,2),h=f[0],d=f[1],j=s.useState(e.timeInfo.getEndTime()),b=Object(c.a)(j,2),g=b[0],v=b[1],p=s.useState(e.timeInfo.getPresenters()),O=Object(c.a)(p,2),P=O[0],w=O[1],N=function(){var e=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},t=Object(s.useState)(e()),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(s.useEffect)((function(){var t=function(){i(e())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),r}(),C=[],E=[],M=N.width;N.height,x&&clearInterval(x),x=setInterval((function(){d(e.timeInfo.getStartTime())}),100),t=y(h.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})),k&&clearInterval(k),k=setInterval((function(){v(e.timeInfo.getEndTime())}),100),n=y(g.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})),T&&clearInterval(T),T=setInterval((function(){w(e.timeInfo.getPresenters())}),100);for(var B=0;B<P.length;B++)C.push(P[B].name),E.push(P[B].time);return s.useEffect((function(){if(r.current){r.current.style.position="absolute",r.current.style.left=String(.182*M)+"px",r.current.style.top="10px",I&&clearInterval(I),I=setInterval((function(){S(o,r,M,0,t,n,C,E)}),10);var e=r.current.getContext("2d");e&&l(e)}S(o,r,M,0,t,n,C,E)}),[o,h,g,P,N]),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsx)("canvas",{id:"canvas",ref:r,width:.625*M,height:.097*M,style:{border:"2px solid #000",marginTop:10}})})};var N,C=function(e){var t=s.useRef(null),n=s.useState(null),r=Object(c.a)(n,2),i=r[0],a=r[1];return s.useEffect((function(){if(t.current){var e=t.current.getContext("2d");e&&a(e)}}),[i]),Object(u.jsxs)("div",{style:{textAlign:"center"},children:[Object(u.jsx)("canvas",{id:"canvas",ref:t,width:1e3,height:300,style:{border:"2px solid #000",marginTop:10}}),Object(u.jsx)(w,{timeInfo:e.timeInfo}),Object(u.jsx)(m,{timeInfo:e.timeInfo}),Object(u.jsx)(b,{timeInfo:e.timeInfo})]})},E=n(29),M=(n(77),function(e){var t=e.title,n=e.setSelectedTab,r=e.index,i=e.isSelected,a=Object(s.useCallback)((function(){n(r)}),[n,r]);return Object(u.jsx)("li",{children:i?Object(u.jsx)("button",{className:"selected",onClick:a,children:t}):Object(u.jsx)("button",{className:"notSelected",onClick:a,children:t})})}),B=(n(78),function(e){var t=e.children,n=Object(s.useState)(0),r=Object(c.a)(n,2),i=r[0],a=r[1];return Object(u.jsxs)("div",{className:"tabs",children:[Object(u.jsx)("ul",{className:"nav",children:t.map((function(e,t){return Object(u.jsx)(M,{title:e.props.presenter.name,index:t,setSelectedTab:a,isSelected:t==i},t)}))}),t[i]]})}),D=(n(79),function(e){var t=e.children;return Object(u.jsx)("div",{className:"box",children:Object(u.jsx)("div",{className:"Memo",children:t})})}),L=(n(80),n(118)),A=n(121),H=n(123),R=n(127),F=(n(81),Object(L.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}))),J=function(e){var t=Object(s.useState)(e.chats),n=Object(c.a)(t,2),r=n[0],i=(n[1],F());return Object(u.jsx)("div",{style:{height:200,overflow:"auto",border:"2px solid grey"},children:r.map((function(e,t){return Object(u.jsx)(A.a,{className:i.root,children:Object(u.jsx)(H.a,{alignItems:"flex-start",children:Object(u.jsx)(R.a,{primary:e})})},t)}))})},z=n(126),_=(n(84),n(124)),W=n(125),K=Object(L.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},iconSmall:{fontSize:14}}})),V=function(e){var t=K();return Object(u.jsx)(_.a,{variant:"contained",color:"primary",className:t.button,onClick:function(t){e.onSendButtonClick(t)},children:Object(u.jsx)(W.a,{children:"send"})})},q=function(e){var t=function(t){var n=document.getElementById("standard-text"),s=document.getElementById("name-text");e.onButtonClick(s.value+" "+n.value),null!=n&&(n.value="")};return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("form",{className:"wrap",noValidate:!0,autoComplete:"off",onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[Object(u.jsx)(z.a,{id:"name-text",label:"\u540d\u524d",className:"text-name",margin:"normal"}),Object(u.jsx)(z.a,{id:"standard-text",label:"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b",className:"text",margin:"normal",onKeyPress:function(e){"Enter"==e.key&&t()}}),Object(u.jsx)(V,{onSendButtonClick:function(e){return t()}})]})})},G=function(e){var t=Object(s.useState)(e.chats),n=Object(c.a)(t,2),i=n[0],a=(n[1],Object(s.useState)(!1)),o=Object(c.a)(a,2);o[0],o[1];return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{className:"Chat",children:[Object(u.jsx)(J,{chats:i}),Object(u.jsx)(q,{onButtonClick:function(t){console.log(e.chats),e.onSendButtonClick(t)}})]})})},Q=function(e){var t=e.presenter,n=(t.name,t.memo),s=t.chats;return Object(u.jsx)("div",{className:"presenter-tab",children:Object(u.jsx)(D,{title:"a",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("textarea",{className:"memo",placeholder:"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30e1\u30e2",value:n,onChange:function(t){e.onMemoChange(e.presenter.id,t.target.value)}})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)(G,{chats:s,onSendButtonClick:function(t){e.onSendButtonClick(e.presenter.name,t)}})})]})})})},U=new Array(0),X=null,Y=function(e){if(N=U.slice(),0==U.length)for(var t=0;t<e.presenterNum;t++)N[t]={id:t,name:e.presenters[t],memo:"",chats:[]};var n=Object(s.useState)(N),i=Object(c.a)(n,2),a=i[0],o=i[1],l=Object(s.useState)(e.timeInfo.getChatMessage()),m=Object(c.a)(l,2),f=m[0],h=m[1];X&&clearInterval(X),X=setInterval((function(){h(e.timeInfo.getChatMessage())}),100),r.a.useEffect((function(){var e=a.map((function(e){return 0==e.id?(e.chats.push(f.message),Object(E.a)(Object(E.a)({},e),{},{chats:e.chats})):e}));o(e),U=e.slice()}),[f]);var d=function(t,n){!function(e,t,n){var s={messagetype:"memo",presentername:t,message:n},r=JSON.stringify(s);console.log(r),e.socket.emit(r)}(e,t,n)},j=a.map((function(e){return Object(u.jsx)(Q,{presenter:e,onMemoChange:function(e,t){return function(e,t){var n=a.map((function(n){return n.id===e?Object(E.a)(Object(E.a)({},n),{},{memo:t}):n}));o(n),U=n.slice()}(e,t)},onSendButtonClick:d},e.id)}));return Object(u.jsx)("div",{children:Object(u.jsx)(B,{children:j})})},Z=null;var $=function(e){var t=s.useRef(null),n=s.useState(null),r=Object(c.a)(n,2),i=r[0],a=r[1],o=s.useState(e.timeInfo.getPresenters()),l=Object(c.a)(o,2),m=l[0],f=l[1];Z&&clearInterval(Z),Z=setInterval((function(){f(e.timeInfo.getPresenters())}),100);for(var h=new Array(0),d=0;d<m.length;d++){"break"!=m[d].name&&h.push(m[d].name)}return s.useEffect((function(){if(t.current){var e=t.current.getContext("2d");e&&a(e)}}),[i]),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(Y,{presenters:h,presenterNum:h.length,timeInfo:e.timeInfo,socket:e.socket})})})},ee=n(40),te=n(33),ne=n(34),se=function(){function e(){Object(te.a)(this,e),this.startTime=new Date,this.endTime=new Date,this.numPresenters=1,this.presenters=new Array(this.numPresenters).fill({name:"",time:0}),this.nowPresenterIndex=-1,this.presentTime=0,this.breakTime=0,this.chatMessage={to:"-1",sender:"",message:""},this.startTime.setHours(13),this.endTime.setHours(16),this.numPresenters=5,this.presenters=[{name:"abc",time:10},{name:"def",time:1500},{name:"break",time:600},{name:"ghi",time:1500},{name:"jkl",time:1500}]}return Object(ne.a)(e,[{key:"getStartTime",value:function(){return this.startTime}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setStartTime",value:function(e){this.startTime=e}},{key:"setEndTime",value:function(e){this.endTime=e}},{key:"getNumPresenters",value:function(){return this.numPresenters}},{key:"setNumPresenters",value:function(e){if(this.numPresenters=this.presenters.length,e>=1)if(e>this.presenters.length)for(var t=0;t<e-this.presenters.length;t++)this.addPresenter(this.presenters.length,"",0);else if(e<this.presenters.length)for(t=0;t<this.presenters.length-e;t++)this.deletePresenter(this.presenters.length-1)}},{key:"addNumPresenters",value:function(e){if(this.numPresenters=this.presenters.length,this.numPresenters+e>=1)if(e>0)for(var t=0;t<e;t++)this.addPresenter(this.presenters.length,"",0);else if(e<0)for(t=0;t<-e;t++)this.deletePresenter(this.presenters.length-1);this.endTime.setSeconds(this.endTime.getSeconds()+60),this.endTime=new Date(this.endTime)}},{key:"getPresenters",value:function(){return this.presenters}},{key:"setPresenters",value:function(e){this.presenters=e}},{key:"deletePresenter",value:function(e){this.presenters=this.presenters.slice(0,e).concat(this.presenters.slice(e+1,this.presenters.length)),this.numPresenters-=1}},{key:"addPresenter",value:function(e,t,n){this.presenters.splice(e,0,{name:t,time:n}),this.numPresenters+=1}},{key:"getNowPresenterIndex",value:function(){return this.nowPresenterIndex}},{key:"setNowPresenterIndex",value:function(e){this.nowPresenterIndex=e}},{key:"toNextPresenter",value:function(e){if(this.nowPresenterIndex>=0){var t=this.presenters.slice();t[this.nowPresenterIndex].time=e,this.presenters=t}return this.nowPresenterIndex+=1,this.getNowPresentDate()}},{key:"getPresentTime",value:function(){return this.presentTime}},{key:"setPresentTime",value:function(e){this.presentTime=e;for(var t=this.presenters.slice(),n=0;n<this.numPresenters;n++)"break"!==t[n].name&&n>=this.nowPresenterIndex&&(t[n].time=60*e);this.presenters=t}},{key:"getNowPresentDate",value:function(){for(var e=0,t=0;t<this.nowPresenterIndex;t++)e+=this.presenters[t].time;var n=new Date;n.setSeconds(this.startTime.getSeconds()+e);var s=new Date;return s.setSeconds(this.startTime.getSeconds()+e+this.presenters[this.nowPresenterIndex].time),[n,s]}},{key:"getBreakTime",value:function(){return this.breakTime}},{key:"setBreakTime",value:function(e){this.breakTime=e;for(var t=this.presenters.slice(),n=0;n<this.numPresenters;n++)"break"===t[n].name&&n>=this.nowPresenterIndex&&(t[n].time=60*e);this.presenters=t}},{key:"getPresenterList",value:function(){var e,t=[],n=Object(ee.a)(this.presenters);try{for(n.s();!(e=n.n()).done;){var s=e.value;t.push(s.name)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"setPresenterList",value:function(e){for(var t=this.presenters.slice(0,this.presenters.length),n=0;n<t.length;n++)t[n].name=e[n];this.presenters=t}},{key:"getTimeSetting",value:function(){var e,t=[],n=Object(ee.a)(this.presenters);try{for(n.s();!(e=n.n()).done;){var s=e.value;t.push(s.time)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"setTimeSetting",value:function(e){for(var t=this.presenters.slice(0,this.presenters.length),n=0;n<t.length;n++)t[n].time=e[n];this.presenters=t}},{key:"sendTimeInfo",value:function(){this.getPresenterList(),this.startTime,this.endTime,this.presentTime,this.breakTime}},{key:"sendChangePresenter",value:function(){this.nowPresenterIndex,this.getTimeSetting()}},{key:"receiveTimeInfo",value:function(e){this.setPresenterList(e.presenterlist),this.setStartTime(e.starttime),this.setEndTime(e.endtime),this.setPresentTime(e.presenttime),this.setBreakTime(e.breaktime)}},{key:"getChatMessage",value:function(){return this.chatMessage}},{key:"setChatMessage",value:function(e){this.chatMessage=e}},{key:"receiveChangePresenter",value:function(e){this.setNowPresenterIndex(e.nextpresenter),this.setTimeSetting(e.timesetting)}}]),e}(),re=n(48),ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new re.EventEmitter;Object(te.a)(this,e),this.ws=void 0,this.ee=void 0,this.ws=t,this.ee=n,t.onmessage=this.message.bind(this),t.onopen=this.open.bind(this),t.onclose=this.close.bind(this),t.onerror=this.error.bind(this)}return Object(ne.a)(e,[{key:"on",value:function(e,t){this.ee.on(e,t)}},{key:"off",value:function(e,t){this.ee.removeListener(e,t)}},{key:"open",value:function(){this.ee.emit("connect")}},{key:"close",value:function(){this.ee.emit("disconnect")}},{key:"error",value:function(e){console.log("websocket error: ",e)}},{key:"emit",value:function(e){this.ws.send(e)}},{key:"message",value:function(e){try{this.ee.emit("message",e)}catch(t){this.ee.emit("error",t),console.log(Date().toString()+": ",t)}}}]),e}(),ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))},ce=new se,oe=new ie(new WebSocket("wss://warm-gorge-29708.herokuapp.com/ws"));oe.on("message",(function(e){var t=JSON.parse(e.data);console.log(t),"memo"==t.messagetype&&ce.setChatMessage(t);"setting"==t.messagetype&&ce.receiveTimeInfo(t);"changepresenter"==t.messagetype&&ce.receiveChangePresenter(t)})),a.a.render(Object(u.jsxs)(r.a.StrictMode,{children:[Object(u.jsx)(C,{timeInfo:ce}),Object(u.jsx)($,{timeInfo:ce,socket:oe}),Object(u.jsx)("button",{onClick:function(){var e=JSON.stringify({messagetype:"memo",message:"React!"});console.log(e),oe.emit(e)},children:"\u9001\u4fe1"})]}),document.getElementById("root")),ae()}},[[86,1,2]]]);
//# sourceMappingURL=main.365a0ff5.chunk.js.map