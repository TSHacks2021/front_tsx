(this["webpackJsonpcanvas-app"]=this["webpackJsonpcanvas-app"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),s=n(5),c=n.n(s),a=(n(19),n(2)),o=(n(20),n(12)),u=n(0);var l=function(e,t){var n=t.expiryTimestamp,r=Object(o.useTimer)({expiryTimestamp:n,onExpire:function(){return console.warn("onExpire called")}}),s=r.seconds,c=r.minutes,a=r.hours,l=(r.days,r.isRunning,r.start,r.pause,r.resume,r.restart);return Object(i.useEffect)((function(){var t=3600*e.endTime.hours+60*e.endTime.minutes+e.endTime.seconds,n=new Date;n.setSeconds(n.getSeconds()+t),l(n)}),[e.endTime]),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsxs)("div",{style:{fontSize:"500%"},children:[Object(u.jsx)("span",{children:a}),":",Object(u.jsx)("span",{children:c}),":",Object(u.jsx)("span",{children:s})]}),Object(u.jsx)("button",{className:"button",onClick:function(){var t=3600*e.endTime.hours+60*e.endTime.minutes+e.endTime.seconds,n=new Date;n.setSeconds(n.getSeconds()+t),l(n)},children:"\u5207\u66ff"})]})};var m=function(e){var t=Object(i.useState)(e.timeInfo.getStartTime().getHours()),n=Object(a.a)(t,2),r=n[0],s=n[1],c=Object(i.useState)(e.timeInfo.getStartTime().getMinutes()),o=Object(a.a)(c,2),l=o[0],m=o[1],f=Object(i.useState)(e.timeInfo.getEndTime().getHours()),d=Object(a.a)(f,2),j=d[0],b=d[1],h=Object(i.useState)(e.timeInfo.getEndTime().getMinutes()),g=Object(a.a)(h,2),v=g[0],x=g[1],O=Object(i.useState)(e.timeInfo.getNumPresenters()),T=Object(a.a)(O,2),p=T[0],S=T[1];return Object(i.useEffect)((function(){s(e.timeInfo.getStartTime().getHours()),m(e.timeInfo.getStartTime().getMinutes()),b(e.timeInfo.getEndTime().getHours()),x(e.timeInfo.getEndTime().getMinutes()),S(e.timeInfo.getNumPresenters())}),[e.timeInfo]),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"\u8a2d\u5b9a\u9805\u76ee"}),Object(u.jsxs)("p",{children:["\u958b\u59cb\u6642\u9593 ",r,":",l," \u7d42\u4e86\u6642\u9593 ",j,":",v]}),Object(u.jsxs)("p",{children:["\u767a\u8868\u4eba\u6570",p,"\u4eba"]}),Object(u.jsx)("button",{onClick:function(){e.timeInfo.addNumPresenters(2),S(e.timeInfo.getNumPresenters())},children:"\u4eba\u6570+"})]})},f=n(6),d=n.n(f);d.a.setAppElement("#root");var j,b=function(e){var t=r.a.useState(!1),n=Object(a.a)(t,2),i=n[0],s=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){s(!0)},children:"\u8a2d\u5b9a"}),Object(u.jsxs)(d.a,{isOpen:i,children:[Object(u.jsx)("button",{onClick:function(){s(!1)},children:"\u9589\u3058\u308b"}),Object(u.jsx)(m,{timeInfo:e.timeInfo})]})]})},h=40,g=920,v=70,x=["red","blue","black","green","orange"],O=null,T=null,p=null,S=null;function k(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return(t<10?"0"+String(t):String(t))+":"+(n<10?"0"+String(n):String(n))}function I(e){var t=e.split(":");return 3600*Number(t[0])+60*Number(t[1])+Number(t[2])}function y(e,t,n,i,r,s){if(j=new Date,e){t.current&&e.clearRect(0,0,t.current.width,t.current.height);var c=function(e,t,n){for(var i,r=new Array(n.length-1),s=t-e,c=0;c<n.length-1;c++){i=0;for(var a=0;a<=c;a++)i+=n[a];r[c]=h+i/s*880}return r}(n,i,s);e.globalAlpha=1,e.strokeStyle="black",e.textAlign="center",e.beginPath(),e.moveTo(h,30),e.lineTo(h,110),e.stroke(),e.font="25px serif",e.fillText(r[0],(h+c[0])/2,45),e.font="30px serif",e.fillText(k(n),h,140),e.beginPath(),e.moveTo(g,30),e.lineTo(g,110),e.stroke(),e.font="25px serif",e.fillText(r[r.length-1],(c[c.length-1]+g)/2,45),e.font="30px serif",e.fillText(k(i),g,140);for(var a=0;a<c.length+1;a++)if(e.strokeStyle="black",e.beginPath(),e.moveTo(c[a],30),e.lineTo(c[a],110),e.stroke(),e.strokeStyle=x[a],e.beginPath(),0==a?e.moveTo(h,v):e.moveTo(c[a-1],v),a<c.length-1?e.lineTo(c[a],v):e.lineTo(g,v),e.stroke(),a<c.length){for(var o=0,u=0;u<=a;u++)o+=s[u];a>0&&(e.font="25px serif",e.fillText(r[a],(c[a-1]+c[a])/2,45)),e.font="30px serif",e.fillText(k(n+o),c[a],140)}var l=j.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),m=function(e,t,n){var i=n-t,r=I(e);return h+(r-t)/i*880}(l,n,i);e.strokeStyle="black",e.beginPath(),e.moveTo(m-20,50),e.lineTo(m,v),e.stroke(),e.beginPath(),e.moveTo(m-20,90),e.lineTo(m,v),e.stroke(),e.font="20px serif",e.fillText(l,m,110)}}var P=function(e){var t,n,r=i.useRef(null),s=i.useState(null),c=Object(a.a)(s,2),o=c[0],l=c[1],m=i.useState(e.timeInfo.getStartTime()),f=Object(a.a)(m,2),d=f[0],j=f[1],b=i.useState(e.timeInfo.getEndTime()),h=Object(a.a)(b,2),g=h[0],v=h[1],x=i.useState(e.timeInfo.getPresenters()),k=Object(a.a)(x,2),P=k[0],N=k[1],E=[],C=[];O&&clearInterval(O),O=setInterval((function(){j(e.timeInfo.getStartTime())}),100),t=I(d.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})),T&&clearInterval(T),T=setInterval((function(){v(e.timeInfo.getEndTime())}),100),n=I(g.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})),p&&clearInterval(p),p=setInterval((function(){N(e.timeInfo.getPresenters())}),100);for(var w=0;w<P.length;w++)E.push(P[w].name),C.push(P[w].time);return i.useEffect((function(){if(r.current){r.current.style.position="absolute",r.current.style.left="280px",r.current.style.top="10px",S&&clearInterval(S),S=setInterval((function(){y(o,r,t,n,E,C)}),10);var e=r.current.getContext("2d");e&&l(e)}y(o,r,t,n,E,C)}),[o,d,g,P]),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsx)("canvas",{id:"canvas",ref:r,width:960,height:150,style:{border:"2px solid #000",marginTop:10}})})};var N=function(e){var t=i.useRef(null),n=i.useState(null),r=Object(a.a)(n,2),s=r[0],c=r[1];return i.useEffect((function(){if(t.current){var e=t.current.getContext("2d");e&&c(e)}}),[s]),Object(u.jsxs)("div",{style:{textAlign:"center"},children:[Object(u.jsx)("canvas",{id:"canvas",ref:t,width:1e3,height:300,style:{border:"2px solid #000",marginTop:10}}),Object(u.jsx)(P,{timeInfo:e.timeInfo}),Object(u.jsx)(l,{endTime:{seconds:0,minutes:10,hours:0}}),Object(u.jsx)(b,{timeInfo:e.timeInfo})]})},E=n(7),C=(n(33),function(e){var t=e.title,n=e.setSelectedTab,r=e.index,s=Object(i.useCallback)((function(){n(r)}),[n,r]);return Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:s,children:t})})}),w=(n(34),function(e){var t=e.children,n=Object(i.useState)(0),r=Object(a.a)(n,2),s=r[0],c=r[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("ul",{className:"nav",children:t.map((function(e,t){return Object(u.jsx)(C,{title:e.props.presenter.name,index:t,setSelectedTab:c},t)}))}),t[s]]})}),M=(n(35),function(e){var t=e.children;return Object(u.jsx)("div",{className:"box",children:Object(u.jsx)("div",{className:"Memo",children:t})})}),A=(n(36),function(e){var t=e.presenter,n=(t.name,t.memo);return Object(u.jsx)("div",{className:"presenter-tab",children:Object(u.jsx)(M,{title:"a",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("textarea",{className:"memo",value:n,onChange:function(t){e.onMemoChange(e.presenter.id,t.target.value)}})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{})})]})})})}),D=[{id:1,name:"A",memo:""},{id:2,name:"B",memo:""},{id:3,name:"C",memo:""},{id:4,name:"D",memo:""}],H=function(){var e=Object(i.useState)(D),t=Object(a.a)(e,2),n=t[0],r=t[1],s=n.map((function(e){return Object(u.jsx)(A,{presenter:e,onMemoChange:function(e,t){return function(e,t){var i=n.map((function(n){return n.id===e?Object(E.a)(Object(E.a)({},n),{},{memo:t}):n}));r(i)}(e,t)}},e.id)}));return Object(u.jsx)("div",{children:Object(u.jsx)(w,{children:s})})};var B=function(){var e=i.useRef(null),t=i.useState(null),n=Object(a.a)(t,2),r=n[0],s=n[1];return i.useEffect((function(){if(e.current){var t=e.current.getContext("2d");t&&s(t)}}),[r]),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(H,{})})})},L=n(13),R=n(14),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),s(e),c(e)}))},J=new(function(){function e(){Object(L.a)(this,e),this.startTime=new Date(0),this.endTime=new Date(0),this.numPresenters=1,this.presenters=new Array(this.numPresenters),this.breakTime={interbal:1,time:0},this.startTime.setHours(14),this.endTime.setHours(16),this.presenters=[{name:"abc",time:1500},{name:"def",time:1500},{name:"break",time:600},{name:"ghi",time:1500},{name:"jkl",time:1500}]}return Object(R.a)(e,[{key:"getStartTime",value:function(){return this.startTime}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setStartTime",value:function(e){this.startTime=e}},{key:"setEndTime",value:function(e){this.endTime=e}},{key:"getNumPresenters",value:function(){return this.numPresenters}},{key:"addNumPresenters",value:function(e){this.numPresenters=this.numPresenters+e,this.endTime.setSeconds(this.endTime.getSeconds()+60),this.endTime=new Date(this.endTime)}},{key:"getPresenters",value:function(){return this.presenters}},{key:"setPresenters",value:function(){}},{key:"getBreakTime",value:function(){return this.breakTime}},{key:"setBreakTime",value:function(){}}]),e}());c.a.render(Object(u.jsxs)(r.a.StrictMode,{children:[Object(u.jsx)(N,{timeInfo:J}),Object(u.jsx)(B,{})]}),document.getElementById("root")),F()}},[[37,1,2]]]);
//# sourceMappingURL=main.c0377524.chunk.js.map